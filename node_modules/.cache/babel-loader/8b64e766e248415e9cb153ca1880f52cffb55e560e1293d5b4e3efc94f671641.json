{"ast":null,"code":"import { cancel } from \"./utils.js\";\nconst queue = [];\nconst queueListeners = [];\nexport function clearQueue() {\n  let cancelSpeech = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  let start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let emitEvent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (cancelSpeech) cancel();\n  queue.slice(start).forEach(_ref => {\n    let {\n      setSpeechStatus\n    } = _ref;\n    return setSpeechStatus(\"stopped\");\n  });\n  queue.length = 0;\n  if (emitEvent) emit();\n}\nexport function addToQueue(item, callback) {\n  queue.push(item);\n  emit(callback);\n}\nexport const clearQueueHook = () => clearQueue(true, 1, true);\nexport const clearQueueUnload = () => clearQueue(true, 1);\nexport function dequeue() {\n  let index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if (index === 0) cancel();else removeFromQueue(index);\n}\nexport function emit(callback) {\n  const utteranceQueue = queue.map(_ref2 => {\n    let {\n      utterance\n    } = _ref2;\n    return utterance;\n  });\n  queueListeners.forEach(listener => listener(utteranceQueue));\n  callback === null || callback === void 0 ? void 0 : callback(utteranceQueue);\n}\nexport function removeFromQueue(utterance, callback) {\n  const index = typeof utterance === \"number\" ? utterance : queue.findIndex(item => item.utterance === utterance);\n  if (index === -1) return;\n  const [item] = queue.splice(index, 1);\n  if (item) {\n    item.setSpeechStatus(\"stopped\");\n    emit(callback);\n  }\n}\nexport function speakFromQueue() {\n  const item = queue[0];\n  if (item) window.speechSynthesis.speak(item.utterance);\n}\nexport function subscribe(callback) {\n  queueListeners.push(callback);\n  return () => {\n    const index = queueListeners.indexOf(callback);\n    if (index !== -1) queueListeners.splice(index, 1);\n  };\n}","map":{"version":3,"names":["cancel","queue","queueListeners","clearQueue","cancelSpeech","arguments","length","undefined","start","emitEvent","slice","forEach","_ref","setSpeechStatus","emit","addToQueue","item","callback","push","clearQueueHook","clearQueueUnload","dequeue","index","removeFromQueue","utteranceQueue","map","_ref2","utterance","listener","findIndex","splice","speakFromQueue","window","speechSynthesis","speak","subscribe","indexOf"],"sources":["C:/Users/jelan/Downloads/stream-ui/node_modules/react-text-to-speech/dist/queue.js"],"sourcesContent":["import { cancel } from \"./utils.js\";\nconst queue = [];\nconst queueListeners = [];\nexport function clearQueue(cancelSpeech = false, start = 0, emitEvent = false) {\n    if (cancelSpeech)\n        cancel();\n    queue.slice(start).forEach(({ setSpeechStatus }) => setSpeechStatus(\"stopped\"));\n    queue.length = 0;\n    if (emitEvent)\n        emit();\n}\nexport function addToQueue(item, callback) {\n    queue.push(item);\n    emit(callback);\n}\nexport const clearQueueHook = () => clearQueue(true, 1, true);\nexport const clearQueueUnload = () => clearQueue(true, 1);\nexport function dequeue(index = 0) {\n    if (index === 0)\n        cancel();\n    else\n        removeFromQueue(index);\n}\nexport function emit(callback) {\n    const utteranceQueue = queue.map(({ utterance }) => utterance);\n    queueListeners.forEach((listener) => listener(utteranceQueue));\n    callback === null || callback === void 0 ? void 0 : callback(utteranceQueue);\n}\nexport function removeFromQueue(utterance, callback) {\n    const index = typeof utterance === \"number\" ? utterance : queue.findIndex((item) => item.utterance === utterance);\n    if (index === -1)\n        return;\n    const [item] = queue.splice(index, 1);\n    if (item) {\n        item.setSpeechStatus(\"stopped\");\n        emit(callback);\n    }\n}\nexport function speakFromQueue() {\n    const item = queue[0];\n    if (item)\n        window.speechSynthesis.speak(item.utterance);\n}\nexport function subscribe(callback) {\n    queueListeners.push(callback);\n    return () => {\n        const index = queueListeners.indexOf(callback);\n        if (index !== -1)\n            queueListeners.splice(index, 1);\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}